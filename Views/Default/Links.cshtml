
@{
    ViewBag.Title = "Links";
}
<script>
    $(document).ready(function () {

        $.ajax({
            url: "https://localhost:44395/Default/LinksMenuListJson",
            type: "GET",
            success: function (result) {
                console.log(result);
                var renderData = "";
                $.each(result, function (id, value) {

                    $('#MenuName').append("<option value='" + value.Id + "'>" + value.Location + "</option>")

                });
            }
        });
        $(document).on('click', '.use-ajax', function () {

            var LinksModel = {
                MenuLocId: $('#MenuName').val(),
                LinksName: $('#LinksName').val(),
                LinksURL: $('#LinksURL').val()
            };
            $.ajax({
                url: "https://localhost:44395/Default/InsertLinks",
                data: JSON.stringify(LinksModel),
                type: "POST",
                contentType: "application/json;charset=utf-8",
                dataType:"json",
                success: function (result) {
                    swal("Link created!", "You have successfully creatd the new Link!", "Success");

                },
                error: function (result) {
                    swal("Oops!", "There is kind of error occured!", "Error");

                }
            });
        });
    });
</script>
<div class="container">
    <div id="content">
        <ul id="tabs" class="nav nav-tabs" data-tabbs="tabs">
            <li class="active">
                <a href="#tab1" data-toggle="tab">Create Menu Links</a>
            </li>
            <li>
                <a href="#tab2" data-toggle="tab">List Menu Links</a>
            </li>
        </ul>
        <div id="my-tab-content" class="tab-content">
            <div class="tab-pane active" id="tab1">
                <div class="row">
                    <div id="menu" class="col-lg-12">
                            <br>
                            <div class="form-group">
                                <div>
                                    @Html.DropDownList("MenuName", new SelectList(Enumerable.Empty<SelectListItem>()), new { @class = "form-control" })
                                </div>
                            </div>
                            <div class="form-group">
                                <div>
                                    @Html.TextBox("LinksName", null, new { @class = "form-control" })
                                </div>
                            </div>
                            <div class="form-group">
                                <div>
                                    @Html.TextBox("LinksURL", null, new { @class = "form-control" })
                                </div>
                            </div>
                            <button class="use-ajax">Process</button>
                    </div>
                </div>
            </div>
            <div class="tab-pane" id="tab2">
                <div class="row">
                    <div id="menu" class="col-lg-12">
                        <br />
                        <table class="table table-bordered table-hover display" style="width:100%" id="menuTable">
                            <thead>
                                <tr>
                                    <td>Id</td>
                                    <td>Location</td>
                                    <td>Action</td>
                                </tr>
                            </thead>
                            <tbody class="tbody"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


